{% requirePermission "retour:plugin-settings" %}

{% from "retour/_includes/macros.twig" import configWarning %}

{% extends "_layouts/cp" %}

{% import "_includes/forms" as forms %}

{% block content %}

    <input type="hidden" name="action" value="retour/cp-nav/save-plugin-settings">
    <input type="hidden" name="pluginHandle" value="retour">

    {{ redirectInput("retour/settings") }}
    {% namespace "settings" %}
        {{ forms.textField({
            label: "Plugin name"|t("retour"),
            instructions: "The public-facing name of the plugin"|t("retour"),
            id: "pluginName",
            name: "pluginName",
            value: settings.pluginName,
            warning: configWarning("pluginName", "retour"),
            errors: settings.getErrors("pluginName"),
        }) }}
    {% endnamespace %}
    
    <!-- Browsers with ES module support load this file. -->
    <script type="module" src="js/retour.js"></script>
    
    <!-- Older browsers load this file (and module-supporting -->
    <!-- browsers know *not* to load this file). -->
    <script nomodule src="js/retour-legacy.js"></script>
{% endblock %}
