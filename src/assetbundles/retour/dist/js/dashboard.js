/*!
 * @project        Retour
 * @name           dashboard.js
 * @author         Andrew Welch
 * @build          Sat, Oct 3, 2020 9:28 PM ET
 * @release        8cb9ddf9139d5b4dd3e948647b7ed619a16a4e61 [develop]
 * @copyright      Copyright (c) 2020 nystudio107
 *
 */!function(t){function e(e){for(var i,r,o=e[0],l=e[1],c=e[2],h=0,d=[];h<o.length;h++)r=o[h],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&d.push(a[r][0]),a[r]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);for(u&&u(e);d.length;)d.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],i=!0,o=1;o<n.length;o++){var l=n[o];0!==a[l]&&(i=!1)}i&&(s.splice(e--,1),t=r(r.s=n[0]))}return t}var i={},a={2:0},s=[];function r(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=i,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var o=window.webpackJsonp=window.webpackJsonp||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;s.push([73,1,0]),n()}({28:function(t,e,n){t.exports=function(t){function e(i){if(n[i])return n[i].exports;var a=n[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1);n.d(e,"Confetti",(function(){return i.a})),e.default={install:function(t,e){this.installed||(this.installed=!0,t.prototype.$confetti=new i.a(e))}}},function(t,e,n){"use strict";var i=n(2),a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function(){function t(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.initialize(),this.onResizeCallback=this.updateDimensions.bind(this)}return a(t,[{key:"initialize",value:function(){this.canvas=null,this.ctx=null,this.W=0,this.H=0,this.particles={},this.droppedCount=0,this.particlesPerFrame=1.5,this.wind=0,this.windSpeed=1,this.windSpeedMax=1,this.windChange=.01,this.windPosCoef=.002,this.maxParticlesPerFrame=2,this.animationId=null}},{key:"createParticles",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.particles=new i.a({ctx:this.ctx,W:this.W,H:this.H,wind:this.wind,windPosCoef:this.windPosCoef,windSpeedMax:this.windSpeedMax,count:0,shape:t.shape||"circle",colors:{opts:t.colors||["DodgerBlue","OliveDrab","Gold","pink","SlateBlue","lightblue","Violet","PaleGreen","SteelBlue","SandyBrown","Chocolate","Crimson"],idx:0,step:10,get color(){return this.opts[(this.idx++/this.step|0)%this.opts.length]}}})}},{key:"createContext",value:function(){this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.canvas.style.display="block",this.canvas.style.position="fixed",this.canvas.style.pointerEvents="none",this.canvas.style.top=0,this.canvas.style.width="100vw",this.canvas.style.height="100vh",this.canvas.id="confetti-canvas",document.querySelector("body").appendChild(this.canvas)}},{key:"start",value:function(t){this.ctx||this.createContext(),this.animationId&&cancelAnimationFrame(this.animationId),this.createParticles(t),this.updateDimensions(),this.particlesPerFrame=this.maxParticlesPerFrame,this.animationId=requestAnimationFrame(this.mainLoop.bind(this)),window.addEventListener("resize",this.onResizeCallback)}},{key:"stop",value:function(){this.particlesPerFrame=0,window.removeEventListener("resize",this.onResizeCallback)}},{key:"remove",value:function(){this.stop(),this.animationId&&cancelAnimationFrame(this.animationId),this.canvas&&document.body.removeChild(this.canvas),this.initialize()}},{key:"updateDimensions",value:function(){this.W===window.innerWidth&&this.H===window.innerHeight||(this.W=this.particles.opts.W=this.canvas.width=window.innerWidth,this.H=this.particles.opts.H=this.canvas.height=window.innerHeight)}},{key:"mainLoop",value:function(t){for(this.updateDimensions(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.W,this.H),this.windSpeed=Math.sin(t/8e3)*this.windSpeedMax,this.wind=this.particles.opts.wind+=this.windChange;this.droppedCount<this.particlesPerFrame;)this.droppedCount+=1,this.particles.add();this.droppedCount-=this.particlesPerFrame,this.particles.update(),this.particles.draw(),this.particles.items.length&&(this.animationId=requestAnimationFrame(this.mainLoop.bind(this)))}}]),t}();e.a=s},function(t,e,n){"use strict";var i=n(3),a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function(){function t(e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.items=[],this.pool=[],this.opts=e}return a(t,[{key:"update",value:function(){for(var t=0;t<this.items.length;t++)!0===this.items[t].update()&&this.pool.push(this.items.splice(t--,1)[0])}},{key:"draw",value:function(){for(var t=0;t<this.items.length;t++)this.items[t].draw()}},{key:"add",value:function(){this.pool.length>0?this.items.push(this.pool.pop().setup(this.opts)):this.items.push((new i.a).setup(this.opts))}}]),t}();e.a=s},function(t,e,n){"use strict";var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return i(t,[{key:"setup",value:function(t){var e=t.ctx,n=t.W,i=t.H,a=t.colors,s=t.wind,r=t.windPosCoef,o=t.windSpeedMax,l=t.count,c=t.shape;return this.ctx=e,this.W=n,this.H=i,this.wind=s,this.shape=c,this.windPosCoef=r,this.windSpeedMax=o,this.x=this.rand(-35,n+35),this.y=this.rand(-30,-35),this.d=this.rand(150)+10,this.r=this.rand(10,30),this.color=a.color,this.tilt=this.randI(10),this.tiltAngleIncremental=(this.rand(.08)+.04)*(this.rand()<.5?-1:1),this.tiltAngle=0,this.angle=this.rand(2*Math.PI),this.count=l++,this}},{key:"randI",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t+(t=0);return Math.random()*(e-t)+t|0}},{key:"rand",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t+(t=0);return Math.random()*(e-t)+t}},{key:"update",value:function(){return this.tiltAngle+=this.tiltAngleIncremental*(.2*Math.cos(this.wind+(this.d+this.x+this.y)*this.windPosCoef)+1),this.y+=(Math.cos(this.angle+this.d)+3+this.r/2)/2,this.x+=Math.sin(this.angle),this.x+=Math.cos(this.wind+(this.d+this.x+this.y)*this.windPosCoef)*this.windSpeedMax,this.y+=Math.sin(this.wind+(this.d+this.x+this.y)*this.windPosCoef)*this.windSpeedMax,this.tilt=15*Math.sin(this.tiltAngle-this.count/3),this.y>this.H}},{key:"drawCircle",value:function(){this.ctx.arc(0,0,this.r/2,0,2*Math.PI,!1),this.ctx.fill()}},{key:"drawRect",value:function(){this.ctx.fillRect(0,0,this.r,this.r/2)}},{key:"drawHeart",value:function(){var t=this,e=function(e,n,i,a,s,r){t.ctx.bezierCurveTo(e/t.r*2,n/t.r*2,i/t.r*2,a/t.r*2,s/t.r*2,r/t.r*2)};this.ctx.moveTo(37.5/this.r,20/this.r),e(75,37,70,25,50,25),e(20,25,20,62.5,20,62.5),e(20,80,40,102,75,120),e(110,102,130,80,130,62.5),e(130,62.5,130,25,100,25),e(85,25,75,37,75,40),this.ctx.fill()}},{key:"draw",value:function(){this.ctx.fillStyle=this.color,this.ctx.beginPath(),this.ctx.setTransform(Math.cos(this.tiltAngle),Math.sin(this.tiltAngle),0,1,this.x,this.y),"circle"===this.shape?this.drawCircle():"rect"===this.shape?this.drawRect():"heart"===this.shape&&this.drawHeart()}}]),t}();e.a=a}])},29:function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},4:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.tablePagination&&t.tablePagination.last_page>1,expression:"tablePagination && tablePagination.last_page > 1"}],class:t.css.wrapperClass},[n("a",{class:["btn-nav",t.css.linkClass,t.isOnFirstPage?t.css.disabledClass:""],on:{click:function(e){return t.loadPage(1)}}},[""!=t.css.icons.first?n("i",{class:[t.css.icons.first]}):n("span",[t._v("«")])]),t._v(" "),n("a",{class:["btn-nav",t.css.linkClass,t.isOnFirstPage?t.css.disabledClass:""],on:{click:function(e){return t.loadPage("prev")}}},[""!=t.css.icons.next?n("i",{class:[t.css.icons.prev]}):n("span",[t._v(" ‹")])]),t._v(" "),t.notEnoughPages?[t._l(t.totalPage,(function(e){return[n("a",{class:[t.css.pageClass,t.isCurrentPage(e)?t.css.activeClass:""],domProps:{innerHTML:t._s(e)},on:{click:function(n){return t.loadPage(e)}}})]}))]:[t._l(t.windowSize,(function(e){return[n("a",{class:[t.css.pageClass,t.isCurrentPage(t.windowStart+e-1)?t.css.activeClass:""],domProps:{innerHTML:t._s(t.windowStart+e-1)},on:{click:function(n){return t.loadPage(t.windowStart+e-1)}}})]}))],t._v(" "),n("a",{class:["btn-nav",t.css.linkClass,t.isOnLastPage?t.css.disabledClass:""],on:{click:function(e){return t.loadPage("next")}}},[""!=t.css.icons.next?n("i",{class:[t.css.icons.next]}):n("span",[t._v("› ")])]),t._v(" "),n("a",{class:["btn-nav",t.css.linkClass,t.isOnLastPage?t.css.disabledClass:""],on:{click:function(e){return t.loadPage(t.totalPage)}}},[""!=t.css.icons.last?n("i",{class:[t.css.icons.last]}):n("span",[t._v("»")])])],2)};i._withStripped=!0;var a={props:{css:{type:Object,default:function(){return{wrapperClass:"vuetable pagination float-right py-4",activeClass:"active large",disabledClass:"disabled",pageClass:"item btn",linkClass:"item btn",paginationClass:"ui bottom attached segment grid",paginationInfoClass:"left floated left aligned six wide column",dropdownClass:"ui search dropdown",icons:{first:"",prev:"",next:"",last:""}}}},onEachSide:{type:Number,default:function(){return 2}}},data:function(){return{eventPrefix:"vuetable-pagination:",tablePagination:null}},computed:{totalPage:function(){return null===this.tablePagination?0:this.tablePagination.last_page},isOnFirstPage:function(){return null!==this.tablePagination&&1===this.tablePagination.current_page},isOnLastPage:function(){return null!==this.tablePagination&&this.tablePagination.current_page===this.tablePagination.last_page},notEnoughPages:function(){return this.totalPage<2*this.onEachSide+4},windowSize:function(){return 2*this.onEachSide+1},windowStart:function(){return!this.tablePagination||this.tablePagination.current_page<=this.onEachSide?1:this.tablePagination.current_page>=this.totalPage-this.onEachSide?this.totalPage-2*this.onEachSide:this.tablePagination.current_page-this.onEachSide}},methods:{loadPage:function(t){this.$emit(this.eventPrefix+"change-page",t)},isCurrentPage:function(t){return t===this.tablePagination.current_page},setPaginationData:function(t){this.tablePagination=t},resetData:function(){this.tablePagination=null}}},s=n(0),r=Object(s.a)(a,void 0,void 0,!1,null,null,null);r.options.__file="src/assetbundles/retour/src/vue/VuetablePaginationMixin.vue";var o={mixins:[r.exports]},l=Object(s.a)(o,i,[],!1,null,null,null);l.options.__file="src/assetbundles/retour/src/vue/VuetablePagination.vue";e.a=l.exports},5:function(t,e,n){"use strict";var i=function(){var t=this.$createElement;return(this._self._c||t)("div",{class:["vuetable-pagination-info",this.css.infoClass],domProps:{innerHTML:this._s(this.paginationInfo)}})};i._withStripped=!0;var a={props:{css:{type:Object,default:function(){return{infoClass:"left floated left py-5 text-gray-600"}}},infoTemplate:{type:String,default:function(){return"Displaying {from} to {to} of {total} items"}},noDataTemplate:{type:String,default:function(){return"No relevant data"}}},data:function(){return{tablePagination:null}},computed:{paginationInfo:function(){return null==this.tablePagination||0==this.tablePagination.total?this.noDataTemplate:this.infoTemplate.replace("{from}",this.tablePagination.from||0).replace("{to}",this.tablePagination.to||0).replace("{total}",this.tablePagination.total||0)}},methods:{setPaginationData:function(t){this.tablePagination=t},resetData:function(){this.tablePagination=null}}},s=n(0),r=Object(s.a)(a,void 0,void 0,!1,null,null,null);r.options.__file="src/assetbundles/retour/src/vue/VuetablePaginationInfoMixin.vue";var o={mixins:[r.exports]},l=Object(s.a)(o,i,[],!1,null,null,null);l.options.__file="src/assetbundles/retour/src/vue/VuetablePaginationInfo.vue";e.a=l.exports},6:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"filter-bar"},[n("div",{staticClass:"ui form"},[n("div",{staticClass:"inline field"},[n("label",{staticClass:"text-gray-600"},[t._v("Search for:")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.filterText,expression:"filterText"}],staticClass:"text nicetext",attrs:{type:"text",placeholder:""},domProps:{value:t.filterText},on:{keyup:t.doFilter,input:function(e){e.target.composing||(t.filterText=e.target.value)}}}),t._v(" "),n("button",{staticClass:"btn delete icon",on:{click:t.resetFilter}},[t._v("Reset")])])])])};i._withStripped=!0;var a={data:function(){return{filterText:""}},methods:{doFilter:function(){this.$events.fire("filter-set",this.filterText)},resetFilter:function(){this.filterText="",this.$events.fire("filter-reset")}}},s=n(0),r=Object(s.a)(a,i,[],!1,null,null,null);r.options.__file="src/assetbundles/retour/src/vue/VuetableFilterBar.vue";e.a=r.exports},73:function(t,e,n){"use strict";n.r(e);var i=n(8),a=n.n(i),s=function(){var t=this.$createElement;return(this._self._c||t)("main")};s._withStripped=!0;var r=n(28),o=n.n(r);Vue.use(o.a);var l={mounted:function(){var t=this;this.$confetti.start({shape:"rect",colors:["DodgerBlue","OliveDrab","Gold","pink","SlateBlue","lightblue","Violet","PaleGreen","SteelBlue","SandyBrown","Chocolate","Crimson"]}),setTimeout((function(){t.$confetti.stop()}),5e3)},methods:{}},c=n(0),u=Object(c.a)(l,s,[],!1,null,null,null);u.options.__file="src/assetbundles/retour/src/vue/Confetti.vue";var h=u.exports,d=function(){var t=this.$createElement;return(this._self._c||t)("apexcharts",{attrs:{width:"100%",height:"200px",type:"area",options:this.chartOptions,series:this.series}})};d._withStripped=!0;var f=n(3),p=n.n(f),v=n(29),g=n.n(v),b=n(9),m=n.n(b),w=n(10),x=n.n(w),y=n(11);function P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function C(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?P(Object(n),!0).forEach((function(e){g()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var _,S=function(t,e,n,i){t.get(e,{params:n}).then((function(t){i&&i(t.data)})).catch((function(t){console.error(t)}))},k={components:{apexcharts:n.n(y).a},props:{title:String,subTitle:String,range:String,siteId:{type:Number,default:0},refreshIntervalSecs:{type:Number,default:3},apiUrl:{type:String,default:""}},methods:{getSeriesData:(_=m()(p.a.mark((function t(){var e,n=this;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=x.a.create({baseURL:this.apiUrl,headers:{"X-Requested-With":"XMLHttpRequest"}}),t.next=3,S(e,"",{range:this.range,siteId:this.siteId},(function(t){var e;if(Object.assign({},n.chartOptions),void 0!==t[0]){var i=Math.round((e=[t[0].data],e.map((function(t){return Math.max.apply(null,t)})))[0]+1.5);n.chartOptions=C(C({},n.chartOptions),{yaxis:{min:0,max:i,labels:{show:!1,minHeight:"20px"}},xaxis:{categories:t[0].labels,type:"category",labels:{show:!1,minHeight:"20px"},crosshairs:{width:1}},labels:t[0].labels}),n.series=t}}));case 3:case"end":return t.stop()}}),t,this)}))),function(){return _.apply(this,arguments)})},created:function(){this.getSeriesData()},mounted:function(){var t=this;this.refreshIntervalSecs&&setInterval((function(){t.getSeriesData()}),1e3*this.refreshIntervalSecs)},data:function(){return{chartOptions:{chart:{id:"vuechart-dashboard",type:"area",height:160,sparkline:{enabled:!0}},colors:["#008FFB","#DCE6EC"],stroke:{curve:"straight",width:3},fill:{opacity:.2,gradient:{enabled:!0}},xaxis:{type:"category",labels:{show:!1,minHeight:"20px"},crosshairs:{width:1}},yaxis:{min:0},title:{text:this.title,offsetX:0,style:{fontSize:"24px",cssClass:"apexcharts-yaxis-title"}},subtitle:{text:this.subTitle,offsetX:0,style:{fontSize:"14px",cssClass:"apexcharts-yaxis-title"}}},series:[{name:"empty",data:[0]}]}}},O=Object(c.a)(k,d,[],!1,null,null,null);O.options.__file="src/assetbundles/retour/src/vue/DashboardChart.vue";var I=O.exports,T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"py-4"},[n("div",{directives:[{name:"show",rawName:"v-show",value:0!==t.numSelected,expression:"numSelected !== 0"}]},[n("form",{attrs:{method:"post","accept-charset":"UTF-8"}},[n("input",{attrs:{type:"hidden",name:t.csrfTokenName},domProps:{value:t.csrfTokenValue}}),t._v(" "),t._l(t.selectedIds,(function(t){return n("input",{attrs:{type:"hidden",name:"statisticIds[]"},domProps:{value:t}})})),t._v(" "),n("label",{staticClass:"text-gray-600"},[t._v(t._s(t.numSelected)+" statistic"),1!==t.numSelected?n("span",[t._v("s")]):t._e(),t._v(":")]),t._v(" "),t._m(0)],2)]),t._v(" "),n("vuetable-filter-bar",{directives:[{name:"show",rawName:"v-show",value:0===t.numSelected,expression:"numSelected === 0"}]}),t._v(" "),n("div",{staticClass:"vuetable-pagination clearafter"},[n("vuetable-pagination-info",{ref:"paginationInfoTop"}),t._v(" "),n("div",{staticClass:"left floated left pl-3 pt-3 text-gray-600"},[n("div",{staticClass:"select"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.retourHandled,expression:"retourHandled"}],staticClass:"fieldtoggle",attrs:{"data-target-prefix":"retour-handled-",name:"retourHandled"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.retourHandled=e.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"all",selected:""}},[t._v("All")]),t._v(" "),n("option",{attrs:{value:"handled"}},[t._v("Handled")]),t._v(" "),n("option",{attrs:{value:"nothandled"}},[t._v("Not Handled")])])])]),t._v(" "),n("vuetable-pagination",{ref:"paginationTop",on:{"vuetable-pagination:change-page":t.onChangePage}})],1),t._v(" "),n("vuetable",{ref:"vuetable",attrs:{"api-url":t.apiUrl,"per-page":20,fields:t.fields,css:t.css,"sort-order":t.sortOrder,"append-params":t.moreParams},on:{"vuetable:pagination-data":t.onPaginationData}}),t._v(" "),n("div",{staticClass:"vuetable-pagination clearafter"},[n("vuetable-pagination-info",{ref:"paginationInfo"}),t._v(" "),n("vuetable-pagination",{ref:"pagination",on:{"vuetable-pagination:change-page":t.onChangePage}})],1)],1)};T._withStripped=!0;var F=[{name:"__checkbox",titleClass:"center aligned",dataClass:"center aligned"},{name:"__component:file-not-found-url",sortField:"redirectSrcUrl",title:"404 File Not Found URL",titleClass:"center",dataClass:"center"},{name:"referrerUrl",sortField:"referrerUrl",title:"Last Referrer URL",titleClass:"center",dataClass:"center",callback:"urlFormatter"},{name:"remoteIp",sortField:"remoteIp",title:"Remote IP",titleClass:"center",dataClass:"center",callback:"ipFormatter"},{name:"hitCount",sortField:"hitCount",title:"Hits",titleClass:"text-right",dataClass:"text-right"},{name:"hitLastTime",sortField:"hitLastTime",title:"Last Hit",titleClass:"center",dataClass:"center"},{name:"handledByRetour",sortField:"handledByRetour",title:"Handled",titleClass:"text-center",dataClass:"text-center",callback:"boolFormatter"},{name:"addLink",sortField:"addLink",title:"",titleClass:"text-center",dataClass:"text-center",callback:"addUrlFormatter"}],$=function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("a",{staticClass:"go",attrs:{href:this.rowData.redirectSrcUrl,title:this.linkTitle}},[this._v(this._s(this.rowData.redirectSrcUrl))])])};$._withStripped=!0;var j={props:{rowData:{type:Object,required:!0},rowIndex:{type:Number}},computed:{linkTitle:function(){var t="";return t+="User Agent: "+this.rowData.userAgent+"\n\n",t+="Message: "+this.rowData.exceptionMessage+"\n\n",t+="File Path: "+this.rowData.exceptionFilePath+"\n\n",t+="Line No.: "+this.rowData.exceptionFileLine}}},D=Object(c.a)(j,$,[],!1,null,null,null);D.options.__file="src/assetbundles/retour/src/vue/FileNotFoundUrl.vue";var M=D.exports,H=n(12),E=n(4),L=n(5),R=n(6);Vue.component("file-not-found-url",M);var N={components:{vuetable:H.a,"vuetable-pagination":E.a,"vuetable-pagination-info":L.a,"vuetable-filter-bar":R.a},props:{siteId:{type:Number,default:0},refreshIntervalSecs:{type:Number,default:3},apiUrl:{type:String,default:""}},data:function(){return{moreParams:{siteId:this.siteId},css:{tableClass:"data fullwidth retour-dashboard",ascendingIcon:"menubtn retour-menubtn-asc",descendingIcon:"menubtn retour-menubtn-desc"},sortOrder:[{field:"hitCount",sortField:"hitCount",direction:"desc"}],fields:F,numSelected:0,selectedIds:[],retourHandled:"all"}},computed:{csrfTokenName:function(){return window.Craft.csrfTokenName},csrfTokenValue:function(){return window.Craft.csrfTokenValue}},watch:{retourHandled:function(t){this.moreParams={siteId:this.siteId},"all"!==t&&(this.moreParams={siteId:this.siteId,handled:t}),this.$events.fire("refresh-table",this.$refs.vuetable)}},mounted:function(){var t=this;this.$events.$on("filter-set",(function(e){return t.onFilterSet(e)})),this.$events.$on("filter-reset",(function(e){return t.onFilterReset()})),this.$refs.vuetable.$on("vuetable:checkbox-toggled",(function(e,n){return t.onCheckboxToggled(e,n)})),this.$refs.vuetable.$on("vuetable:checkbox-toggled-all",(function(e){return t.onCheckboxToggled(e,null)})),this.refreshIntervalSecs&&setInterval((function(){void 0!==t.$refs.pagination&&t.$refs.pagination.isOnFirstPage&&void 0!==t.$refs.vuetable&&t.$refs.vuetable.refresh()}),1e3*this.refreshIntervalSecs)},methods:{onFilterSet:function(t){this.moreParams={siteId:this.siteId,filter:t},this.$events.fire("refresh-table",this.$refs.vuetable)},onFilterReset:function(){this.moreParams={siteId:this.siteId},this.$events.fire("refresh-table",this.$refs.vuetable)},onPaginationData:function(t){this.$refs.paginationTop.setPaginationData(t),this.$refs.paginationInfoTop.setPaginationData(t),this.$refs.pagination.setPaginationData(t),this.$refs.paginationInfo.setPaginationData(t)},onChangePage:function(t){this.$refs.vuetable.changePage(t)},onCheckboxToggled:function(t,e){this.numSelected=0,this.selectedIds=[],void 0!==this.$refs.vuetable&&void 0!==this.$refs.vuetable.selectedTo&&(this.numSelected=this.$refs.vuetable.selectedTo.length,this.selectedIds=this.$refs.vuetable.selectedTo)},urlFormatter:function(t){return""===t?"":'\n            <a class="go" href="'.concat(t,'" title="').concat(t,'" target="_blank" rel="noopener">').concat(t,"</a>\n            ")},ipFormatter:function(t){return""===t?"":'\n            <a class="go" href="https://whatismyipaddress.com/ip/'.concat(t,'" title="Lookup ').concat(t,'" target="_blank" rel="noopener">').concat(t,"</a>\n            ")},boolFormatter:function(t){return 1==t?'\n            <span style="color: green;">&#x2714;</span>\n            ':'\n            <span style="color: red;">&#x2716;</span>\n            '},addUrlFormatter:function(t){return""===t?"":'\n            <a class="add icon" href="'.concat(t,'" title="Add"></a>\n            ')}}},U=Object(c.a)(N,T,[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"btngroup inline"},[e("div",{staticClass:"btn menubtn",attrs:{"data-icon":"settings"}}),this._v(" "),e("div",{staticClass:"menu",attrs:{"data-align":"right"}},[e("ul",[e("li",[e("a",{staticClass:"formsubmit",attrs:{"data-action":"retour/statistics/delete-statistics"}},[this._v("Delete")])])])])])}],!1,null,null,null);U.options.__file="src/assetbundles/retour/src/vue/DashboardTable.vue";var A=U.exports;Vue.use(a.a);new Vue({el:"#cp-nav-content",components:{confetti:h,"dashboard-chart":I,"dashboard-table":A},data:{},methods:{onTableRefresh:function(t){Vue.nextTick((function(){return t.refresh()}))}},mounted:function(){var t=this;this.$events.$on("refresh-table",(function(e){return t.onTableRefresh(e)}))}})}});
//# sourceMappingURL=dashboard.js.map